# 0 基本编译逻辑

Stanley B.Lippman — 第一个c++编译器的作者

---

##  简单的c++程序

```c++
    #include <iostream>
    using namespace std;
    
    int main(void)
    {
        cout << "hello world" <<endl;
        
        return 0;
    }
```
> c++程序总体分为两类，一类是可执行程序(executable app),，一类是程序库(library). 
> 可执行程序的入口点是main函数，而library不需要main函数。
> 在c语言中允许main函数返回void，而在c++中不能使用void作为main函数的返回值。如果没有return 语句，C++编译器默认为其添加return 0


- 头文件

  - .h / .H / .hpp / .hxx

  - ```txt
    包含标准库的头文件时，应该用尖括号（系统目录）
    包含不属于标准库的头文件，则使用双引号（当前目录）
    
    但有时候某些第三方的库配置了系统目录或者构建原因，使用尖括号。
    ```

-   编译

    -   .cc / .cxx / .cpp / .cp / .C

    -   cc proj1.cc

        -   通常gnu编译器的命令是g++

            ```g++ -Wall -o prog1 prog1.cc```

        -   vs编译器命令是cl

            ```cl /W4 /EHsc prog1.cpp```
        
    -   再探编译

        ```c
        /*
        	再探编译
        		编译期可以检查形式（form）上的错误。
        		语法错误：c++语言文法
        		类型错误：c++中每个数据项都有其类型。
        		声明错误：c++程序中的每个名字都要先声明后使用。名字声明失败通常会导致一条错误信息。
        			对来自标准库的名字忘记使用std::、标识符名字拼写错误
        		
        	一个好的习惯是在每修正一个错误后就立即重新编译代码，或者最多是修正了一小部分明显的错误
        		后就重新编译。这就是所谓的“编辑-编译-调试”周期。
        */
        ```

        

- 运行

    - ./a.out
    - echo $?
    - ehco %ERRORLEVEL%





## 类声明与分离编译

​		尽管可以在函数体内定义类，但这样的类受到了很多限制。

​		类一般不定义在函数体内，函数体外定义类时，各个指定的源文件中可能只有一处该类的定义，在不同文件中使用同一个类，类的定义就必须保持一致。

​		所以，为了确保各个文件中类的定义一致，类通常被定义在头文件中，而且类所在头文件的名字应与类的名字一样。如果同一个文件中有多个类，该文件应有一个主要的功能和对外提供的类，以此命名文件。