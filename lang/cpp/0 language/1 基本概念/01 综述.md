# 基本概念

c++/基础语法/基本概念

---

​		本节定义了描述 C++**编程语言**时所使用的一些专门的术语与概念。

​		一个 C++ 程序是一个含有**声明**的文本文件（通常为头文件与源文件）序列。它们被**翻译**成一个可执行程序，C++ 实现通过调用其**主函数 (main)** 执行这一程序。

在 C++ 程序中，一些被称为**关键词**的词语有着特殊的含义。其它词语可以被用作**标识符**。在翻译的过程中，**注释**会被忽略。程序中的某些特定字符必须通过[转义序列](https://zh.cppreference.com/w/cpp/language/escape)表示。

C++ 程序中的**实体**包括值、[对象](https://zh.cppreference.com/w/cpp/language/object)、[引用](https://zh.cppreference.com/w/cpp/language/reference)、 [结构化绑定](https://zh.cppreference.com/w/cpp/language/structured_binding) (C++17 起)、[函数](https://zh.cppreference.com/w/cpp/language/functions)、[枚举项](https://zh.cppreference.com/w/cpp/language/enum)、[类型](https://zh.cppreference.com/w/cpp/language/type)、类成员、[模板](https://zh.cppreference.com/w/cpp/language/templates)、[模板特化](https://zh.cppreference.com/w/cpp/language/template_specialization)、[命名空间](https://zh.cppreference.com/w/cpp/language/namespace)和[形参包](https://zh.cppreference.com/w/cpp/language/parameter_pack)。预处理器[宏](https://zh.cppreference.com/w/cpp/preprocessor/replace)不是 C++ 实体。

*[声明](https://zh.cppreference.com/w/cpp/language/declarations)*可以引入实体，将它们与[名字](https://zh.cppreference.com/w/cpp/language/identifiers#.E5.90.8D.E5.AD.97)关联起来，并定义其属性。能够定义使用一个实体所需的所有属性的声明是[定义](https://zh.cppreference.com/w/cpp/language/definition)。对任何被 [ODR 使用](https://zh.cppreference.com/w/cpp/language/definition#ODR_.E5.BC.8F.E4.BD.BF.E7.94.A8)的非内联函数或变量，程序中必须只含有其一个定义。

函数的定义通常包括一系列的[语句](https://zh.cppreference.com/w/cpp/language/statements)，其中部分会包含[表达式](https://zh.cppreference.com/w/cpp/language/expressions)。表达式指定了程序需要进行的运算。

程序中遇到的名字通过[名字查找](https://zh.cppreference.com/w/cpp/language/lookup)与引入它们的声明关联起来。每个名字都只在称为其[作用域](https://zh.cppreference.com/w/cpp/language/scope)的程序部分中有效。有些名字有[链接](https://zh.cppreference.com/w/cpp/language/storage_duration)，这使得它们即使出现在不同的作用域或翻译单元时也代表相同的实体。

C++ 中的每一个对象、引用、函数和表达式都会关联一个[类型](https://zh.cppreference.com/w/cpp/language/type)。类型可以分为[基础类型](https://zh.cppreference.com/w/cpp/language/types)，复合类型，或[自定义类型](https://zh.cppreference.com/w/cpp/language/classes)，以及完整或[不完整](https://zh.cppreference.com/w/cpp/language/type#.E4.B8.8D.E5.AE.8C.E6.95.B4.E7.B1.BB.E5.9E.8B)的类型等。



>   **关键词**
>
>   ​		c++中的保留字列表，被c++语言作为基本语言组成使用，所以这些关键词需要在任何上下文中都保持一致的语义，故不能重定义和重载。
>
>   ​		ps：c++/基础语法/关键词
>
>   ## 声明
>
>   ​		将名字引入或再引入到c++程序中。每种实体的声明方式都不同。
>
>   > 定义是一种足以（sufficient）使该名字所标识的实体被使用的声明。
>
>   ​		ps: c++/基础语法/声明



## 实体

​		

### 值

​		在c++语义分析中，值即对于某块内存地址上持有的数据属性。

​		值可能是不确定的，例如默认初始化的非类类型。

### 对象

​	存储数据的空间以及类型解译对该空间的制约称为对象。

​	我们需要使用一个名字来访问一个对象，一个明明后的对象被称为一个变量，它有特定的类型，类型决定我们可以对其做什么样的操作。

​		c++对象的性质：

-   大小（内存占用），可以使用`sizeof`获取
-   对齐要求，可以使用`alignof`获取
-   存储期
-   生存期
-   类型
-   值
-   名字（可选）





#### 对象创建

##### 隐式生存期类型对象的隐式创建

-   



#### 对象的生存期

​		每个对象和引用都有生存期（lifetime），这是一项运行时性质。

>   每个对象或引用在程序执行时都存在一个时刻，开始其生存期，也都存在一个时刻，结束其生存期。

​		对象的生存期和它的存储空间的生存期相同，或者内嵌于其中。

>   内嵌其中：即对象的生存期可能是他的存储空间的生存期的一个子集。
>
>   ​	如该存储空间没有被释放，但在该存储地址上构造了新对象，使得旧对象生存期结束。

​		引用的生存期，从初始化完成之时开始，并与**标量对象**以相同的方式结束。

>   **NOTE：**
>
>   ​	被引用对象的生生存期可能在引用的生存期结束之前就结束，这会造成**悬垂引用**。
>
>   ​	非静态数据成员和基类子对象的生存期，按照**类初始化顺序**开始和结束。
>
>   **悬垂引用：**
>
>   ​		源对象生存期接受，但引用仍可继续访问，造成悬垂（danging)。
>
>   ps: c++语言/基础语法/声明/声明符/引用声明/悬垂引用
>
>   **类初始化顺序：**
>
>   ps：c++语言/基础语法/类/初始化顺序

##### 对象生存期的开始

-   将获得与其类型对应的正确对齐方式和大小的存储

-   完成其初始化（若存在）（包括不经由构造函数或经由**平凡默认构造函数**的默认初始化），除非：

    -   对象是联合体成员或其子对象，生存期的开始决定于联合体成员是否在联合体中初始化，或者联合体是否被激活

    -   若对象内嵌与联合体对象，则其生存期开始于**平凡特殊成员函数**赋值或构造含有它的联合体对象

    -   如果数组对象是通过``std::allocator::allocate`分配的，它的生命周期也可以开始。

        >   **平凡默认构造函数：**	
        >
        >   ​		不进行任何动作的构造函数，所有与C语言兼容的数据类型（POD类型）都是可平凡默认构造的。
        >
        >   ps：c++语言/基础语法/类/特殊成员函数/默认构造函数/平凡默认构造函数
        >
        >   **平凡特殊成员函数：**
        >
        >   ​		trivial special member function.
        >
        >   ​		即特殊成员函数的每个不执行任何特殊操作的版本。
        >
        >   ps：c++语言/基础语法/类/特殊成员函数/*/平凡成员函数



​		某些操作会在给定的存储区域中**隐式创建对象**，并开始其生存期，这些对象拥有**隐式生存期类型**。

##### 对象生存期的结束

-   如果是非类类型，则在销毁该对象时结束（从20起，可能会过**伪析构函数**调用结束）

    >   **伪析构函数调用：**
    >
    >   ​		唯一作用在于计算点号或箭头前面的*后缀表达式*
    >
    >   ps: c++语言/基础语法/类/特殊成员函数/析构函数/伪析构函数调用
    >
    >   https://blog.csdn.net/weixin_30642267/article/details/97374403

-   如果是类类型，则是**析构函数**调用开始时

    >   **析构函数：**
    >
    >   ​		释放对象可能在其生存期间获得的资源。
    >
    >   ps: c++语言/基本语法/类/特殊成员函数/析构函数

-   如果对象占据的存储空间被释放，或者被不内嵌在该对象中的对象所重用。

##### 隐式生存期类型

​		隐式生存期类型：

-   标量类型
-   数组类型
-   聚合类型
-   至少一个平凡的合格构造函数 或 一个平凡且未被删除的析构函数 的类类型
-   或以上类型的的**cv限定**版本

>   **CV限定符：**
>
>   ​		即**const和volatile**类型限定符。
>
>   ​		可出现于任何类型说明符（包括声明说明符序列）中，以指定被声明对象或被命名类型的常量性（constness）或易变性（volatile）。
>
>   ​	ps：c++语言/基本语法/声明/说明符/类型说明符/cv限定符



#### 对象的作用域













### 