# 注释

C语言/语言/基本概念/注释

---

​		注释是一套代码内文档。插入注释到程序中时，编译器直接忽略它们，它们只作为文本存在于源文件中被阅读代码的人作为源码的注记。



## C 风格注释

`/*注释*/`

​		C风格注释即多行注释，通常用于注释大块的文本，也可以用于注释单行文本。

>   ```c
>   /*
>   *	此格式常用于指示文档块。第二行此星号简单地被当做注释的一部
>   * 	分。
>   */
>   ```
>
>   ​		C风格注释高速上编译器忽略 `/*` 和 `*/` 间的所有内容。尽管不是 C 标准的一部分， `/**` 和 `*/` 常用于指示文档块；这是合法的，因为星号被简单地当做注释的一部分。
>
>   ```c
>   /* /**/ */
>   C风格的多行注释不能进行嵌套，因为第一个/* 会向后就近匹配第一个出现的 */，造成第一个*/脱离注释块。
>   ```
>
>   ​		除了在字符常量、字符串字面量或注释中，字符 `/*` 引入一段注释。检验这种注释的内容仅是为了鉴别多字节字符，以及寻找终止注释的 `*/` 。 C 风格注释不能嵌套。
>
>   ```c
>   '/*'
>   "/*"
>   /* /* */
>   /* /* */ */ 
>   ```



## C++ 风格注释

`//`

​		C++风格注释即单行注释，可以将多个c++风格注释放在一起来组成多行注释。

​		可以简单地将 `//` 置于文本前，文本后跟随换行符，以将文本作为 C++ 风格注释插入。 C++ 风格注释告诉编译器忽略 `//` 和换行符间的所有内容。

```c
#include <iostream>
/* C 风格注释
能含有多行 */
/* 或只有一行 */
 
/**************
 *  你能插入任意数量的 * ，
 *  但你不能嵌套注释
 */
 
// C++ 风格注释能注释一行
 
// 或者，能将
// 它们串在一起
 
int main()
{
  // 注释在预处理前被移除，
  // 故 ABC 为 1 ，而非 1//2134 ，
  // 而 "1 hello world"将得以打印
#define ABC 1//2134
  std::cout << ABC << " hello world\n";
 
  // 下方代码不会运行
  // return 1;
 
  // 下方代码会运行
  return 0;
}
```

​		除了在字符常量、字符串字面量或注释中，字符 `//` 引入一段注释，它包含所有多字节字符，直至但不包含下个换行符。检验这种注释的内容仅是为了鉴别多字节字符，以及寻找终止注释的换行符。 C++ 风格注释能嵌套：

```c
// //
```

​		C++ 风格注释可出现在 C 风格注释内；这是排除一小块源代码的机制：

```c
/*
	y = f(x);   // 调用算法
    z = g(x);
*/
```



>   **NOTE：**
>
>   ​		注释在预处理器阶段已经被替换为空格，所以宏不能用于组成注释，因此没有终止的多行注释不会从#include文件中溢出。
>
>   ```c
>   /* 试图用宏组成注释。 */
>   /* 但空格替换字符 "//" 。 */
>   #ifndef DEBUG
>       #define PRINTF //
>   #else
>       #define PRINTF printf
>   #endif
>   ...  
>   PRINTF("Error in file %s at line %i\n", __FILE__, __LINE__);
>   ```
>
>   ​		C99 中引入 // 注释，在一些罕有场合是破坏性更改：
>
>   ```c
>   a = b //*除数：*/ c
>   + d; /* C89 编译为 a = b / c + d;
>           C99 编译为 a = b + d; */
>   ```



## 其他排除源代码的方式

### 预处理指令 - 条件编译

除了注释掉，用于排除源码的其他机制是：

```c
#if 0
    puts("this will not be compiled");
    /* 与 C 风格注释不冲突 */
    // 与 C++ 风格注释不冲突
#endif
```

### 条件块

```c
if(0) {
    puts("this will be compiled but not be executed");
    /* 与 C 风格注释不冲突 */
    // 与 C++ 风格注释不冲突
}
```













