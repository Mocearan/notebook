# UML

​		 Unified Modeling Language（UML），称为统一建模语言或标准建模语言，是食欲1997年一个OMG标准，它是一个支持模型化和软件系统开发的图形化语言，为软件开发提供了一些标准准的图例（10种），统一开发思想，从而促进团队合作。

---

- 标准的工业化设计语言

  起源于非软件业的工业设计建模

- 分治问题

  大化小，复杂分解为简单

- 建模是开发优秀软件的核心部分

  目的是探索结构和提醒的行为联系，对系统的机构进行可视化的控制

## 建模的图例

- 类图（class diagram）
- 对象图（object diagram）
- 用例图（use case diagram）
- 组件图（component diagram）
- 部署图（deployment diagram）
- 组合结构图（composite structure diagram）

以上6种针对的是软件的静态结构进行建模

- 序列图（sequence diagram）【时序图】

  表达数据的流动和对象的交互，对象的生命周期

  ![image-20220116195150681](https://gitee.com/masstsing/picgo-picserver/raw/master/image-20220116195150681.png)

- 协作图（collaboration diagram）

- 状态图（statechart diagram）

- 活动图（activity diagram）

以上4种针对的是软件的行为来进行建模

 

## 类

- 类是数据和行为的对象封装

- 类具有一定的职责，设计良好的类具有单一职责

- 类的属性是类的数据职责，类的方法是类的行为职责

  - 类名

  - 属性 attributes

    类的性质。

    `可见性 名称:类型[=默认值]`

  - 操作 operations

    类的行为

    `可见性 名称（参数列表）：返回类型`





## 类之间的关系

### 继承（泛化）

​		一个类与另一个类是实现、具象化的关系。B is A，B就是A。

![image-20220116193719810](https://gitee.com/masstsing/picgo-picserver/raw/master/image-20220116193719810.png)

#### 实现继承

#### 接口继承

### 关联

​		一个类与另一个类存在某种**固定关系**。这种关系是持续存在的。

> 没有箭头的关联是双向的。在设计的时候，要尽可能的避免双向关联关系，会增加复杂性。

​		**一个类作为另外一个类的成员**，类A中很多地方需要使用B。是一种依赖关系的强化。

- 双向

  ![image-20220116193938907](https://gitee.com/masstsing/picgo-picserver/raw/master/image-20220116193938907.png)

  > 可以根据客户导航到客户的订单列表，可以根据一个订单导航到客户的信息。

- 单向

![image-20220116194023715](https://gitee.com/masstsing/picgo-picserver/raw/master/image-20220116194023715.png)

> 只能由客户导航到客户的订单列表，可以有0到多个。

### 聚合

​		A pass B， A由B

​		特殊的关联关系，强调整体与局部的**关系**。

​		强调被包含的类是包含类的局部性功能组件，这些组件可以拆离，整体不负责局部组件的生命周期，只使用组件的功能。

​		整体类对象的生命周期结束，组件的生命周期在别处维护，并可以聚合成新的整体。

> 也就是在一个类A中，如果聚合B，那么B是通过指针过引用，从构造函数或成员函数的参数从别处引入。且不在类A中对B主动释放（明确结束生命周期）

![image-20220116194449723](https://gitee.com/masstsing/picgo-picserver/raw/master/image-20220116194449723.png)

### 组合

​		A have B

​		是更强的关联关系，是聚合的进一步紧密要求。强调局部是整体的**实体**，而不是引用。

​		局部是整体的组成部分，组件不能够拆离，整体和局部的生命周期是一致的。整体生命周期的结束意味着局部对象生命周期的结束。

> ​		在一个类A中，如果组合B，那么B是在A中构造的，可以在类A中自行构造，或者通过构造函数或成员函数的参数从别处拷贝构造或移动构造等等。类A对B在合适的时机进行释放。

​		![image-20220116194704191](https://gitee.com/masstsing/picgo-picserver/raw/master/image-20220116194704191.png)

> **NOTE**
>
> ​		如果只是想使用B的方法，那么大可不必使用组合，可以使用聚合或者关联关系，与外部的组件形成关系来调用。
>
> ​		但是如果类中的操作要更改B的属性，要隔离这种变化对程序其他部分（相对于A的其他使用B的部分）的影响时，应该使用组合。

### 依赖

​		A use B 

​		依赖是一种最弱的关联关系，A在某个时机上，使用了B。是偶然的，临时的。

> B作为A的成员函数参数、成员函数的局部变量，或者A的成员函数调用B的静态方法。

![image-20220116194850723](https://gitee.com/masstsing/picgo-picserver/raw/master/image-20220116194850723.png)



### Note

​		继承体现的是类与类之间的纵向关系，其他4种体现的是类与类之间的横向关系。

​		关联、聚合、组合、依赖是一致的，在语义上有所不同，在编码上也有所不同。

​		依赖强弱：依赖《关联《聚合《组合